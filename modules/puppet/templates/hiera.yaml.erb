# <%= @puppet_header %>
# <%=  __FILE__.gsub(/.*?puppet\//,@fqdn + ':') %>
---
:backends:
  - yaml

:logger: console


:merge_behavior: deeper



# hack around not being able to specify more than one datadir, at least till they fix it
:hierarchy:
  - private/host/%{hostname}/%{calling_module}
  - shared/host/%{hostname}/%{calling_module}
  - public/host/%{hostname}/%{calling_module}
  - private/host/%{hostname}/common
  - shared/host/%{hostname}/common
  - public/host/%{hostname}/common
  - private/project/%{project}/%{calling_module}
  - shared/project/%{project}/%{calling_module}
  - public/project/%{project}/%{calling_module}
  - private/project/%{project}/common
  - shared/project/%{project}/common
  - public/project/%{project}/common
  - private/location/%{location}/%{calling_module}
  - shared/location/%{location}/%{calling_module}
  - public/location/%{location}/%{calling_module}
  - private/location/%{location}/common
  - shared/location/%{location}/common
  - public/location/%{location}/common
  - private/env/%{environment}/%{calling_module}
  - shared/env/%{environment}/%{calling_module}
  - public/env/%{environment}/%{calling_module}
  - private/env/%{environment}/common
  - shared/env/%{environment}/common
  - public/env/%{environment}/common
  - private/common/%{calling_module}
  - shared/common/%{calling_module}
  - public/common/%{calling_module}
  - private/common/common
  - shared/common/common
  - public/common/common


:yaml:
   :datadir: /var/lib/dpp/hiera

# :gpg:
#   :datadir: /home/gitsync/puppet/%{environment}/hiera-gpg
#   :key_dir: /var/lib/puppet/gpg
